{{ define "email.default.html" }}
<style>
  body { 
    font-family: system-ui, Arial, sans-serif; 
    margin: 0; 
    padding: 12px; 
    background: #fafafa;
    color: #333;
  }
  .title { 
    font-size: 20px; 
    font-weight: 700; 
    margin-bottom: 10px; 
  }
  .chip { 
    display:inline-block; 
    padding:4px 10px; 
    border-radius:14px; 
    background:#e9e9e9; 
    margin-right:6px;
    font-size: 13px;
  }
  table { 
    border-collapse: collapse; 
    width:100%; 
    margin-top:12px; 
    background: white;
  }
  th, td { 
    border:1px solid #ddd; 
    padding:8px 10px; 
    text-align:left; 
    font-size: 13px;
  }
  th { 
    background:#f5f5f5; 
    font-weight: 600;
  }
  .muted { 
    color:#777; 
    font-size: 12px; 
  }
  .ok { color: #0c8d27; font-weight: 700; }
  .fail { color: #d92424; font-weight: 700; }
</style>

<div class="title">
  {{ if eq .Status "firing" }}
    üö® ALERT FIRING
  {{ else }}
    ‚úÖ ALERT RESOLVED
  {{ end }}
</div>

<div>
  <span class="chip">Env: {{ .CommonLabels.env }}</span>
  <span class="chip">Severity: {{ .CommonLabels.severity }}</span>
  <span class="chip">Alert: {{ .CommonLabels.alertname }}</span>
</div>

<table>
  <tr>
    <th>Service</th>
    <th>Instance</th>
    <th>Status</th>
    <th>Summary</th>
    <th>Since</th>
  </tr>

  {{ range .Alerts }}
  <tr>
    <td>{{ if .Labels.application }}{{ .Labels.application }}{{ else }}N/A{{ end }}</td>
    <td>{{ .Labels.instance }}</td>

    <td>
      {{ if eq .Status "firing" }}
        <span class="fail">‚ùå DOWN</span>
      {{ else }}
        <span class="ok">‚úÖ OK</span>
      {{ end }}
    </td>

    <td>{{ .Annotations.summary }}</td>
    <td class="muted">{{ .StartsAt }}</td>
  </tr>
  {{ end }}
</table>

<p class="muted">
  View full alert details in Grafana or Prometheus.
</p>
{{ end }}
