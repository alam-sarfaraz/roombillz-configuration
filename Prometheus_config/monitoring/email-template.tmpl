{{ define "email.default.html" }}
<style>
  body { font-family: system-ui, Arial, sans-serif; }
  .title { font-size: 18px; font-weight: 700; margin-bottom: 8px; }
  .chip { display:inline-block; padding:2px 8px; border-radius:12px; background:#eee; margin-right:6px; }
  table { border-collapse: collapse; width:100%; margin-top:10px; }
  th, td { border:1px solid #ddd; padding:6px 8px; text-align:left; font-size: 13px; }
  th { background:#f5f5f5; }
  .muted { color:#666; font-size: 12px; }
</style>

<div class="title">
  {{ if eq .Status "firing" }}üö® ALERT FIRING{{ else }}‚úÖ ALERT RESOLVED{{ end }}
</div>

<div>
  <span class="chip">Env: {{ .CommonLabels.env }}</span>
  <span class="chip">Severity: {{ .CommonLabels.severity }}</span>
  <span class="chip">Alert: {{ .CommonLabels.alertname }}</span>
</div>

<table>
  <tr>
    <th>Service</th>
    <th>Instance</th>
    <th>Status</th>
    <th>Summary</th>
    <th>Since</th>
  </tr>
  {{ range .Alerts }}
  <tr>
    <td>{{ .Labels.application }}</td>
    <td>{{ .Labels.instance }}</td>
    <td>{{ if eq .Status "firing" }}‚ùå DOWN{{ else }}‚úÖ OK{{ end }}</td>
    <td>{{ .Annotations.summary }}</td>
    <td class="muted">{{ .StartsAt }}</td>
  </tr>
  {{ end }}
</table>

<p class="muted">
  See Grafana for details. Tune thresholds as needed.
</p>
{{ end }}
